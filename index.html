<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex, nofollow" />
  <title>NFL Week 5 Pick'em</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      height: 100vh;
      color: white;
      background: #000; /* fallback */
    }

    /* Content wrapper that will be blurred */
    #contentWrapper {
  min-height: 100vh;
  background-image: url("./assets/pics/2.png");
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  background-attachment: scroll; /* was fixed — change to scroll for better centering */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  padding-bottom: 40px;
  }


    h1 { margin-bottom: 10px;}
    form { max-width: 600px; margin: 0 auto;}
    .game {
      border: 1px solid hsl(83, 33%, 46%);
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 5px;
      transition: border 0.3s;
    }
    .game-header { font-weight: bold; margin-bottom: 4px; }
    .teams { display: flex; gap: 20px; flex-wrap: wrap; }
    .teams label { display: flex; align-items: center; gap: 5px; }
    .tiebreaker { margin-top: 8px; }
    input[type="number"] { width: 60px; }
    button { padding: 8px 16px; margin-top: 10px; cursor: pointer;}
    .error { border: 2px solid red !important; }
    .byes {
      border: 1px solid hsl(83, 33%, 46%);
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 5px;
    }

    /* Modal overlay */
    #customAlert {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: none;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.5);
      z-index: 9999;
    }
    #alertBox {
      background: white;
      color: black;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      width: 420px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    }
    #alertBox p { margin-bottom: 20px; font-size: 16px; }
    #alertBox a {
      display:inline-block;
      padding:10px 20px;
      background-color:#3D95CE;
      color:white;
      text-decoration:none;
      border-radius:5px;
      font-weight:bold;
      margin-bottom: 15px;
    }
    #alertBox button {
      padding: 8px 16px;
      background: #ccc;
      border: none;
      border-radius: 5px;
    }
  </style>
</head>

<body>
  <!-- Wrap all content that should be blurred in this div -->
  <div id="contentWrapper">
    <header>
      <img src="./assets/pics/Pick'em logo.png" alt="Header Logo" style="max-width: 200px; display: block; margin: 20px auto 20px; border: 8px solid hsl(83, 33%, 46%); border-radius: 4px;">
    </header>

    <h1 style="text-align:center;">NFL Week 6 Pick ’Em – 2025</h1>

    <form id="pickemForm">
      <div style="text-align:center;">
        <label>
          Your Name & Email:
          <input type="text" id="username" required>
        </label>
      </div>
      <br>

  <!-- Games -->
   <!-- Thursday game -->
  <div class="game">
    <div class="game-header">Thu, Oct 9 – 8:15 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game0" value="Philadelphia Eagles"> Philadelphia Eagles</label>
      <label><input type="radio" name="game0" value="New York Giants"> New York Giants</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 9:30 AM ET (London International Game)</div>
    <div class="teams">
      <label><input type="radio" name="game1" value="Denver Broncos"> Denver Broncos</label>
      <label><input type="radio" name="game1" value="New York Jets"> New York Jets</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game2" value="Los Angeles Rams"> Los Angeles Rams</label>
      <label><input type="radio" name="game2" value="Baltimore Ravens"> Baltimore Ravens</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game3" value="Dallas Cowboys"> Dallas Cowboys</label>
      <label><input type="radio" name="game3" value="Carolina Panthers"> Carolina Panthers</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game4" value="Arizona Cardinals"> Arizona Cardinals</label>
      <label><input type="radio" name="game4" value="Indianapolis Colts"> Indianapolis Colts</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game5" value="Seattle Seahawks"> Seattle Seahawks</label>
      <label><input type="radio" name="game5" value="Jacksonville Jaguars"> Jacksonville Jaguars</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game6" value="Los Angeles Chargers"> Los Angeles Chargers</label>
      <label><input type="radio" name="game6" value="Miami Dolphins"> Miami Dolphins3</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game7" value="Cleveland Browns"> Cleveland Browns</label>
      <label><input type="radio" name="game7" value="Pittsburgh Steelers"> Pittsburgh Steelers</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game8" value="New England Patriots"> New England Patriots</label>
      <label><input type="radio" name="game8" value="New Orleans Saints"> New Orleans Saints</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 4:05 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game9" value="Tennessee Titans"> Tennessee Titans</label>
      <label><input type="radio" name="game9" value="Las Vegas Raiders"> Las Vegas Raiders</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 4:25 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game10" value="San Francisco 49ers"> San Francisco 49ers</label>
      <label><input type="radio" name="game10" value="Tampa Bay Buccaneers"> Tampa Bay Buccaneers</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 4:25 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game11" value="Cincinnati Bengals"> Cincinnati Bengals</label>
      <label><input type="radio" name="game11" value="Green Bay Packers"> Green Bay Packers</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Sun, Oct 12 – 8:20 PM ET (Sunday Night Football)</div>
    <div class="teams">
      <label><input type="radio" name="game12" value="Detroit Lions"> Detroit Lions</label>
      <label><input type="radio" name="game12" value="Kansas City Chiefs"> Kansas City Chiefs</label> 
    </div>
  </div>
  <div class="game">
    <div class="game-header">Thu, Oct 13 – 7:15 PM ET (Monday Night Football)</div>
    <div class="teams">
      <label><input type="radio" name="game13" value="Buffalo Bills"> Buffalo Bills</label>
      <label><input type="radio" name="game13" value="Atlanta Falcons"> Atlanta Falcons</label>
    </div>
  </div>
  <div class="game">
    <div class="game-header">Mon, Oct 13 – 8:15 PM ET (Monday Night Football Tie-Breaker)</div>
    <div class="teams">
      <label><input type="radio" name="game14" value="Chicago Bears"> Chicago Bears</label>
      <label><input type="radio" name="game14" value="Washington Commanders"> Washington Commanders</label>
    </div>
    <div class="tiebreaker">
      <label style="color: red;">
        Tie-Breaker: Total Points Scored in Monday Night Football game. (0–100): 
        <br>
        <input type="number" id="tiebreaker" min="0" max="100" required>
      </label>
    </div>
  </div>

   <div class="byes">
        <p>Teams on Bye Week:</p>
        <ul>
          <li>Houston Texans</li>
          <li>Minnesota Vikings</li>
        </ul>
      </div>

      <div style="text-align:center;">
        <button type="submit">Submit Picks</button>
      </div>
    </form>

    <br></br>

    <div style="text-align:center; margin-top:10px;">
      <a href="venmo://paycharge?txn=pay&recipients=Emily-Butler-48&amount=5&note=Week 6 Pickem Fee" target="_blank" style="padding:10px 20px; background-color:#3D95CE; color:white; text-decoration:none; border-radius:5px; font-weight:bold;">Venmo Emily</a>
    </div>
  </div>

  <!-- Custom Alert Modal -->
  <div id="customAlert">
    <div id="alertBox">
      <p>Your picks have been recorded and sent to Emily. Please Venmo your fee. Good luck!</p>
      <a id="venmoLink" href="venmo://paycharge?txn=pay&recipients=Emily-Butler-48&amount=5&note=Week 6 Pickem Fee" target="_blank">Venmo Emily</a>
      <br><br>
      <button id="closeAlert">Close</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    const form = document.getElementById("pickemForm");
    const contentWrapper = document.getElementById("contentWrapper");
    const customAlert = document.getElementById("customAlert");
    const closeAlertBtn = document.getElementById("closeAlert");
    const venmoLink = document.getElementById("venmoLink");

    emailjs.init("ZB4difRsgRgAQKiWH");

    // Remove red border when corrected
    document.querySelectorAll(".game input[type=radio]").forEach(input => {
      input.addEventListener("change", function() {
        this.closest(".game").classList.remove("error");  
      });
    });

    closeAlertBtn.addEventListener("click", () => {
      customAlert.style.display = "none";
      contentWrapper.style.filter = "";
    });

    venmoLink.addEventListener("click", () => {
      customAlert.style.display = "none";
      contentWrapper.style.filter = "";
    });

    form.addEventListener("submit", function(event) {
      event.preventDefault();
      document.querySelectorAll(".game").forEach(g => g.classList.remove("error"));

      var name = document.getElementById("username").value.trim();
      if (!name) { alert("You forgot to enter your name and EMAIL!"); return; }

      var picksList = [];
      var allPicked = true;

      for (var i = 0; i < 14; i++) {
        var sel = document.querySelector('input[name="game' + i + '"]:checked');
        var gameDiv = document.querySelector('input[name="game' + i + '"]').closest(".game");
        if (!sel) { allPicked = false; gameDiv.classList.add("error"); }
        else { picksList.push("Game " + (i + 1) + ": " + sel.value); }
      }

      var tiebreaker = document.getElementById("tiebreaker").value;
      var numTB = Number(tiebreaker);
      if (tiebreaker === "" || isNaN(numTB) || numTB < 0 || numTB > 100) {
        alert("Please enter a tie-breaker between 0 and 100.");
        return;
      }

      if (!allPicked) {
        alert("Please make a selection for all games before submitting.");
        return;
      }

      var picksFormatted = picksList.join("\n");
      var payload = { username: name, picks: picksFormatted, tiebreaker: tiebreaker };

      // Send EmailJS Alex
      emailjs.send("service_wpho2gf", "template_xrga1vs", payload)
        .then(()=>console.log("Sent to Account Alex"), err=>console.error(err));

      // Send EmailJS to Emily
      emailjs.send("service_9r97vcq", "template_n6ehca8", payload, "3RILetYOuA580VW_S")
        .then(()=>console.log("Sent to Account Emily"), err=>console.error(err));

      // Show modal & blur content only
      customAlert.style.display = "flex";
      contentWrapper.style.filter = "blur(10px)";
      form.reset();
    });
  </script>
</body>
</html>