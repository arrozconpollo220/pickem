<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex, nofollow" />
  <title>Site Maintenance — Pick'em</title>
  <style>
    body {
      font-family: Arial, sans-serif; margin: 0;
      height: 100vh;
      background-image: url("./assets/pics/2.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: white
    }
    h1 { margin-bottom: 10px;}
    form { max-width: 600px;}
    .game {
      border: 1px solid hsl(83, 33%, 46%);
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 5px;
      transition: border 0.3s;
    }
    .game-header { font-weight: bold; margin-bottom: 4px; }
    .teams { display: flex; gap: 20px; }
    .teams label { display: flex; align-items: center; gap: 5px; }
    .tiebreaker { margin-top: 8px; }
    input[type="number"] { width: 60px; }
    button { padding: 8px 16px; margin-top: 10px; }
    .error { border: 2px solid red !important; } /* highlight missing picks */
    .byes {
      border: 1px solid hsl(83, 33%, 46%);
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 5px;
      transition: border 0.3s;
    }
  </style>

</head>

<body>
   <header>
    <img src="./assets/pics/Pick'em logo.png" alt="Header Logo" style="max-width: 200px; height: auto; display: block; margin: 0 auto 20px; padding-top: 20px;   border: 8px solid hsl(83, 33%, 46%); border-radius: 4px;">
  </header>
  <h1>NFL Week 4 Pick ’Em – 2025</h1>

<form id="pickemForm">
  <div>
    <label>
      Your Name & Email:
      <input type="text" id="username" required>
    </label>
  </div>
  <br>

  <!-- Thursday Night Football -->
  <div class="game">
    <div class="game-header">Thu, Oct 2 – 8:15 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game0" value="San Francisco 49ers"> San Francisco 49ers</label>
      <label><input type="radio" name="game0" value="Los Angeles Rams"> Los Angeles Rams</label>
    </div>
  </div>

  <!-- Sunday games -->
  <div class="game">
    <div class="game-header">Sun, Oct 5 – 9:30 AM ET (International Game)</div>
    <div class="teams">
      <label><input type="radio" name="game1" value="Minnesota Vikings"> Minnesota Vikings</label>
      <label><input type="radio" name="game1" value="Cleveland Browns"> Cleveland Browns</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game2" value="Houston Texans"> Houston Texans</label>
      <label><input type="radio" name="game2" value="Baltimore Ravens"> Baltimore Ravens</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game3" value="Miami Dolphins"> Miami Dolphins</label>
      <label><input type="radio" name="game3" value="Carolina Panthers"> Carolina Panthers</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game4" value="Las Vegas Raiders"> Las Vegas Raiders</label>
      <label><input type="radio" name="game4" value="Indianapolis Colts"> Indianapolis Colts</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game5" value="New York Giants"> New York Giants</label>
      <label><input type="radio" name="game5" value="New Orleans Saints"> New Orleans Saints</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game6" value="Dallas Cowboys"> Dallas Cowboys</label>
      <label><input type="radio" name="game6" value="New York Jets"> New York Jets</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 1:00 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game7" value="Denver Broncos"> Denver Broncos</label>
      <label><input type="radio" name="game7" value="Philadelphia Eagles"> Philadelphia Eagles</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 4:05 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game8" value="Tennessee Titans"> Tennessee Titans</label>
      <label><input type="radio" name="game8" value="Arizona Cardinals"> Arizona Cardinals</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 4:05 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game9" value="Tampa Bay Buccaneers"> Tampa Bay Buccaneers</label>
      <label><input type="radio" name="game9" value="Seattle Seahawks"> Seattle Seahawks</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 4:25 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game10" value="Detroit Lions"> Detroit Lions</label>
      <label><input type="radio" name="game10" value="Cincinnati Bengals"> Cincinnati Bengals</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 4:25 PM ET</div>
    <div class="teams">
      <label><input type="radio" name="game11" value="Washington Commanders"> Washington Commanders</label>
      <label><input type="radio" name="game11" value="Los Angeles Chargers"> Los Angeles Chargers</label>
    </div>
  </div>

  <div class="game">
    <div class="game-header">Sun, Oct 5 – 8:20 PM ET (Sunday Night Football)</div>
    <div class="teams">
      <label><input type="radio" name="game12" value="New England Patriots"> New England Patriots</label>
      <label><input type="radio" name="game12" value="Buffalo Bills"> Buffalo Bills</label>
    </div>
  </div>

  <!-- Monday Night Football - Game 1 (Tie-Breaker) -->
  <div class="game">
    <div class="game-header">Mon, Oct 6 – 8:15 PM ET (Monday Night Football Tie-Breaker)</div>
    <div class="teams">
      <label><input type="radio" name="game13" value="Kansas City Chiefs"> Kansas City Chiefs</label>
      <label><input type="radio" name="game13" value="Jacksonville Jaguars"> Jacksonville Jaguars</label>
    </div>
    <div class="tiebreaker">
      <label style="color: red;">
        Tie-Breaker: Total Points Scored in Monday Night Football game. (0–100): 
        <br></br>
        <input type="number" id="tiebreaker" min="0" max="100" required>
      </label>
    </div>
  </div>

  <div class="byes">
    <p>Teams on Bye Week: COMIN SOON!</p>
    <ul>
      <li>Atlanta Falcons</li>
      <li>Chicago Bears</li>
      <li>Greenbay Packers</li>
      <li>Pittsburgh Steelers</li>
    </ul>

  </div>
  <button type="submit">Submit Picks</button>
</form>

<br></br>
<div class="venmo">
  <a href="venmo://paycharge?txn=pay&recipients=Emily-Butler-48&amount=5&note=Week 4 Pickem Fee" target="_blank" style="display: inline-block; padding: 10px 20px; background-color: #3D95CE; color: white; text-decoration: none; border-radius: 5px; margin-top: 10px; font-weight: bolder;">Pay Emily on Venmo</a>
</div>

   <footer>
    <p style="text-align: center; padding-bottom: 20px;">&copy; 2025 NFL Pick 'Em. All rights reserved. An Arroz Con Pollo Web Design.</p>
  </footer>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  const form = document.getElementById("pickemForm");

  // Init the FIRST account
  emailjs.init("ZB4difRsgRgAQKiWH"); // The First EmialJS accoutn Publie Key "Alex's" 

    // Removes red error aound box when error is corrected
    document.querySelectorAll(".game input[type=radio]").forEach(input => {
    input.addEventListener("change", function() {
      this.closest(".game").classList.remove("error");  
    });
  });

  form.addEventListener("submit", function(event) {
    event.preventDefault();

    // Validation
    document.querySelectorAll(".game").forEach(g => g.classList.remove("error"));
    var name = document.getElementById("username").value.trim();
    if (!name) {
      alert("You forgot to enter your name and EMAIL, BRO!!!");
      return;
    }

    var picksList = [];
    var allPicked = true;

    for (var i = 0; i < 16; i++) {  
      var sel = document.querySelector('input[name="game' + i + '"]:checked');
      var gameDiv = document.querySelector('input[name="game' + i + '"]').closest(".game");
      if (!sel) {
        allPicked = false;
        gameDiv.classList.add("error");
      } else {
        picksList.push("Game " + (i + 1) + ": " + sel.value);
      }
    }

    if (!allPicked) {
      alert("Please make a selection for all games before submitting.");
      return;
    }

    var tiebreaker = document.getElementById("tiebreaker").value;
    var numTB = Number(tiebreaker);
    if (tiebreaker === "" || isNaN(numTB) || numTB < 0 || numTB > 100) {
      alert("Please enter a tie-breaker between 0 and 100.");
      return;
    }

    var picksFormatted = picksList.join("\n");

    var payload = {
      username: name,
      picks: picksFormatted,
      tiebreaker: tiebreaker
    };

    // Send to fist EmailJS account "Alex's"
    emailjs.send("service_wpho2gf", "template_xrga1vs", payload)
      .then(function() {
        console.log("Sent to Account Alex");
      }, function(error) {
        console.error("EmailJS error (Account Alex):", error);
      });

    // Send to second EmailJS account "Emily's"
    emailjs.send("service_9r97vcq", "template_n6ehca8", payload, "3RILetYOuA580VW_S")
      .then(function() {
        console.log("Sent to Account Emily");
      }, function(error) {
        console.error("EmailJS error (Account Emily):", error);
      });

    alert("Your picks have been recorded and sent to Emily. Please remember to Venmo your fee to her and Good luck!");
    form.reset();
  });
</script>
